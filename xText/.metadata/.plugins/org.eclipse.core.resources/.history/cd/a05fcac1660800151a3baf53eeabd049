grammar org.elascript.Elascript with org.eclipse.xtext.common.Terminals
generate elascript "http://www.elascript.org/Elascript"

Script : 	
	(scriptStatements+=Statement)*
;

Statement :
	Command | Parallel
;

Parallel :
	 SPLIT (statements+=StatementList) (PARALLEL_SEPARATOR (statements+=StatementList))+  JOIN
;

StatementList returns EList:
	statements+=Statement+
;

Command:
	 name=ID LP params+=Param (COMMA  params+=Param)*  RP SEQUENTIAL_SEPARATOR
;

Param :
	value=INT
;


terminal SCALE_IN : 'ScaleIn';
terminal SCALE_OUT : 'ScaleOut';
terminal SCALE_UP : 'ScaleUp';
terminal SCALE_DOWN : 'ScaleDown';

terminal SOFT : 'Soft';
terminal INF : 'Inf';

terminal SCALE_IN_SOFT : 'ScaleInSoft';
terminal SCALE_OUT_SOFT : 'ScaleOutSoft'
	
;
terminal SCALE_IN_INF : 'ScaleInInf';
terminal SCALE_OUT_INF : 'ScaleOutInf';

terminal SCALE_UP_SOFT : 'ScaleUpSoft';
terminal SCALE_DOWN_SOFT : 'ScaleDownSoft';

terminal SCALE_UP_INF : 'ScaleUpInf';
terminal SCALE_DOWN_INF : 'ScaleDownInf';

terminal PARALLEL_SEPARATOR : '||';
//Lexems
terminal LP : '(';
terminal RP : ')';
terminal fragment LETTER: '$' | 'A'..'Z' | 'a'..'z' | '_';
terminal fragment NUMBER: '0'..'9';
terminal SEQUENTIAL_SEPARATOR : ';';

terminal COMMA : ',';
terminal SPLIT : '[';
terminal JOIN : ']';

